<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html40/loose.dtd">
<HTML>
<!-- Created on June, 7 2005 by texi2html 1.66 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people <dev@texi2html.cvshome.org>
Send bugs and suggestions to <users@texi2html.cvshome.org>

-->
<HEAD>
<TITLE>The `GnuPG Made Easy' Reference Manual: Key Listing Mode</TITLE>

<META NAME="description" CONTENT="The `GnuPG Made Easy' Reference Manual: Key Listing Mode">
<META NAME="keywords" CONTENT="The `GnuPG Made Easy' Reference Manual: Key Listing Mode">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.66">

</HEAD>

<BODY LANG="en" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC42"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme_41.html#SEC41"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme_43.html#SEC43"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme_34.html#SEC34"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme_37.html#SEC37"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme_78.html#SEC78"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme_81.html#SEC81">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<HR SIZE=1>
<H3> 7.3.5 Key Listing Mode </H3>
<!--docid::SEC42::-->
<P>

<A NAME="IDX71"></A>
</P>
<DL>
<DT><U>Function:</U> void <B>gpgme_set_keylist_mode</B> <I>(gpgme_ctx_t <VAR>ctx</VAR>, gpgme_keylist_mode_t <VAR>mode</VAR>)</I>
<DD>The function <CODE>gpgme_set_keylist_mode</CODE> changes the default
behaviour of the key listing functions.  The value in <VAR>mode</VAR> is a
bitwise-or combination of one or multiple of the following bit values:
<P>

</P>
<DL COMPACT>
<DT><CODE>GPGME_KEYLIST_MODE_LOCAL</CODE>
<DD>The <CODE>GPGME_KEYLIST_MODE_LOCAL</CODE> symbol specifies that the local
keyring should be searched for keys in the keylisting operation.  This
is the default.
<P>

</P>
<DT><CODE>GPGME_KEYLIST_MODE_EXTERN</CODE>
<DD>The <CODE>GPGME_KEYLIST_MODE_EXTERN</CODE> symbol specifies that an external
source should be searched for keys in the keylisting
operation.  The type of external source is dependant on the crypto
engine used.  For example, it can be a remote keyserver or LDAP
certificate server.
<P>

</P>
<DT><CODE>GPGME_KEYLIST_MODE_SIGS</CODE>
<DD>The <CODE>GPGME_KEYLIST_MODE_SIGS</CODE> symbol specifies that the key
signatures should be included in the listed keys.
<P>

</P>
<DT><CODE>GPGME_KEYLIST_MODE_VALIDATE</CODE>
<DD>The <CODE>GPGME_KEYLIST_MODE_VALIDATE</CODE> symbol specifies that the
backend should do key or certificate validation and not just get the
validity information from an internal cache.  This might be an
expensive operation and is in general not usefule.  Currently only
implemented for the S/MIME backend and ignored for other backends.
<P>

</DL>
<P>

At least one of <CODE>GPGME_KEYLIST_MODE_LOCAL</CODE> and
<CODE>GPGME_KEYLIST_MODE_EXTERN</CODE> must be specified.  For future binary
compatibility, you should get the current mode with
<CODE>gpgme_get_keylist_mode</CODE> and modify it by setting or clearing the
appropriate bits, and then using that calulcated value in the
<CODE>gpgme_set_keylisting_mode</CODE> operation.  This will leave all other
bits in the mode value intact (in particular those that are not used
in the current version of the library).
</P>
<P>

The function returns the error code <CODE>GPG_ERR_NO_ERROR</CODE> if the
mode could be set correctly, and <CODE>GPG_ERR_INV_VALUE</CODE> if <VAR>ctx</VAR>
is not a valid pointer or <VAR>mode</VAR> is not a valid mode.
</P>
</DL>
<P>

<A NAME="IDX72"></A>
</P>
<DL>
<DT><U>Function:</U> gpgme_keylist_mode_t <B>gpgme_get_keylist_mode</B> <I>(gpgme_ctx_t <VAR>ctx</VAR>)</I>
<DD>The function <CODE>gpgme_get_keylist_mode</CODE> returns the current key
listing mode of the context <VAR>ctx</VAR>.  This value can then be
modified and used in a subsequent <CODE>gpgme_set_keylist_mode</CODE>
operation to only affect the desired bits (and leave all others
intact).
<P>

The function returns 0 if <VAR>ctx</VAR> is not a valid pointer, and the
current mode otherwise.  Note that 0 is not a valid mode value.
</P>
</DL>
<P>

<A NAME="Passphrase Callback"></A>
<HR SIZE=1>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme_41.html#SEC41"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme_43.html#SEC43"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme_34.html#SEC34"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme_37.html#SEC37"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme_78.html#SEC78"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme_81.html#SEC81">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>
<FONT SIZE="-1">
This document was generated
by <I>Igor Belyi</I> on <I>June, 7 2005</I>
using <A HREF="http://texi2html.cvshome.org"><I>texi2html</I></A>
</FONT>

</BODY>
</HTML>
