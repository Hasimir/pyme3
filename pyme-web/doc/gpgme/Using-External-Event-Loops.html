<html lang="en">
<head>
<title>Using External Event Loops - The `GnuPG Made Easy' Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="The `GnuPG Made Easy' Reference Manual">
<meta name="generator" content="makeinfo 4.11">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Run-Control.html#Run-Control" title="Run Control">
<link rel="prev" href="Waiting-For-Completion.html#Waiting-For-Completion" title="Waiting For Completion">
<link rel="next" href="Cancellation.html#Cancellation" title="Cancellation">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<p>
<a name="Using-External-Event-Loops"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="Cancellation.html#Cancellation">Cancellation</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Waiting-For-Completion.html#Waiting-For-Completion">Waiting For Completion</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Run-Control.html#Run-Control">Run Control</a>
<hr>
</div>

<h4 class="subsection">7.7.2 Using External Event Loops</h4>

<p><a name="index-event-loop_002c-external-319"></a>
<acronym>GPGME</acronym> hides the complexity of the communication between the
library and the crypto engine.  The price of this convenience is that
the calling thread can block arbitrary long waiting for the data
returned by the crypto engine.  In single-threaded programs, in
particular if they are interactive, this is an unwanted side-effect. 
OTOH, if <code>gpgme_wait</code> is used without the <var>hang</var> option being
enabled, it might be called unnecessarily often, wasting CPU time that
could be used otherwise.

   <p>The I/O callback interface described in this section lets the user
take control over what happens when.  <acronym>GPGME</acronym> will provide the
user with the file descriptors that should be monitored, and the
callback functions that should be invoked when a file descriptor is
ready for reading or writing.  It is then the user's responsibility to
decide when to check the file descriptors and when to invoke the
callback functions.  Usually this is done in an event loop, that also
checks for events in other parts of the program.  If the callback
functions are only called when the file descriptors are ready,
<acronym>GPGME</acronym> will never block.  This gives the user more control
over the program flow, and allows to perform other tasks when
<acronym>GPGME</acronym> would block otherwise.

   <p>By using this advanced mechanism, <acronym>GPGME</acronym> can be integrated
smoothly into GUI toolkits like GTK+ even for single-threaded
programs.

<ul class="menu">
<li><a accesskey="1" href="I_002fO-Callback-Interface.html#I_002fO-Callback-Interface">I/O Callback Interface</a>:         How I/O callbacks are registered. 
<li><a accesskey="2" href="Registering-I_002fO-Callbacks.html#Registering-I_002fO-Callbacks">Registering I/O Callbacks</a>:      How to use I/O callbacks for a context. 
<li><a accesskey="3" href="I_002fO-Callback-Example.html#I_002fO-Callback-Example">I/O Callback Example</a>:           An example how to use I/O callbacks. 
<li><a accesskey="4" href="I_002fO-Callback-Example-GTK_002b.html#I_002fO-Callback-Example-GTK_002b">I/O Callback Example GTK+</a>:      How to use <acronym>GPGME</acronym> with GTK+. 
<li><a accesskey="5" href="I_002fO-Callback-Example-GDK.html#I_002fO-Callback-Example-GDK">I/O Callback Example GDK</a>:       How to use <acronym>GPGME</acronym> with GDK. 
<li><a accesskey="6" href="I_002fO-Callback-Example-Qt.html#I_002fO-Callback-Example-Qt">I/O Callback Example Qt</a>:        How to use <acronym>GPGME</acronym> with Qt. 
</ul>

   </body></html>

