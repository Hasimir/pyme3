<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html40/loose.dtd">
<HTML>
<!-- Created on June, 7 2005 by texi2html 1.66 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people <dev@texi2html.cvshome.org>
Send bugs and suggestions to <users@texi2html.cvshome.org>

-->
<HEAD>
<TITLE>The `GnuPG Made Easy' Reference Manual: Cancellation</TITLE>

<META NAME="description" CONTENT="The `GnuPG Made Easy' Reference Manual: Cancellation">
<META NAME="keywords" CONTENT="The `GnuPG Made Easy' Reference Manual: Cancellation">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.66">

</HEAD>

<BODY LANG="en" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC77"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme_76.html#SEC76"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme_78.html#SEC78"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme_34.html#SEC34"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme_68.html#SEC68"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme_78.html#SEC78"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme_81.html#SEC81">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gpgme_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<HR SIZE=1>
<H3> 7.7.3 Cancellation </H3>
<!--docid::SEC77::-->
<P>

Sometimes you do not want to wait for an operation to finish.  If you
use external I/O callbacks, you can cancel a pending operation.
However, you must ensure that no other thread is currently using the
context in which the operation you want to cancel runs.  This includes
callback handlers.  So your external event loop must either be halted
or otherwise it must be guaranteed that no installed I/O callbacks are
run for this context.
</P>
<P>

<A NAME="IDX176"></A>
</P>
<DL>
<DT><U>Function:</U> gpgme_ctx_t <B>gpgme_cancel</B> <I>(gpgme_ctx_t <VAR>ctx</VAR>)</I>
<DD>The function <CODE>gpgme_cancel</CODE> attempts to cancel a pending
operation in the context <VAR>ctx</VAR>.  This only works if you use the
global event loop or your own event loop.
<P>

If you use the global event loop, you must not call <CODE>gpgme_wait</CODE>
or <CODE>gpgme_wait</CODE> during cancellation.  After successful
cancellation, you can call <CODE>gpgme_wait</CODE> (optionally waiting on
<VAR>ctx</VAR>), and the context <VAR>ctx</VAR> will appear as if it had
finished with the error code <CODE>GPG_ERR_CANCEL</CODE>.
</P>
<P>

If you use your an external event loop, you must ensure that no I/O
callbacks are invoked for this context (for example by halting the
event loop).  On successful cancellation, all registered I/O callbacks
for this context will be unregistered, and a <CODE>GPGME_EVENT_DONE</CODE>
event with the error code <CODE>GPG_ERR_CANCEL</CODE> will be signaled.
</P>
<P>

The function returns an error code if the cancellation failed (in this
case the state of <VAR>ctx</VAR> is not modified).
</P>
</DL>
<P>

<A NAME="Library Copying"></A>
<HR SIZE=1>
<BR>
<FONT SIZE="-1">
This document was generated
by <I>Igor Belyi</I> on <I>June, 7 2005</I>
using <A HREF="http://texi2html.cvshome.org"><I>texi2html</I></A>
</FONT>

</BODY>
</HTML>
