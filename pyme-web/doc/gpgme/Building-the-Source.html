<html lang="en">
<head>
<title>Building the Source - The `GnuPG Made Easy' Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="The `GnuPG Made Easy' Reference Manual">
<meta name="generator" content="makeinfo 4.11">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Preparation.html#Preparation" title="Preparation">
<link rel="prev" href="Header.html#Header" title="Header">
<link rel="next" href="Largefile-Support-_0028LFS_0029.html#Largefile-Support-_0028LFS_0029" title="Largefile Support (LFS)">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<p>
<a name="Building-the-Source"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="Largefile-Support-_0028LFS_0029.html#Largefile-Support-_0028LFS_0029">Largefile Support (LFS)</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Header.html#Header">Header</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Preparation.html#Preparation">Preparation</a>
<hr>
</div>

<h3 class="section">2.2 Building the Source</h3>

<p><a name="index-compiler-options-3"></a><a name="index-compiler-flags-4"></a>
If you want to compile a source file including the `gpgme.h' header
file, you must make sure that the compiler can find it in the
directory hierarchy.  This is accomplished by adding the path to the
directory in which the header file is located to the compilers include
file search path (via the <samp><span class="option">-I</span></samp> option).

   <p>However, the path to the include file is determined at the time the
source is configured.  To solve this problem, gpgme ships with a small
helper program <samp><span class="command">gpgme-config</span></samp> that knows about the path to the
include file and other configuration options.  The options that need
to be added to the compiler invocation at compile time are output by
the <samp><span class="option">--cflags</span></samp> option to <samp><span class="command">gpgme-config</span></samp>.  The following
example shows how it can be used at the command line:

<pre class="example">     gcc -c foo.c `gpgme-config --cflags`
</pre>
   <p>Adding the output of &lsquo;<samp><span class="samp">gpgme-config --cflags</span></samp>&rsquo; to the compiler
command line will ensure that the compiler can find the
<acronym>GPGME</acronym> header file.

   <p>A similar problem occurs when linking the program with the library. 
Again, the compiler has to find the library files.  For this to work,
the path to the library files has to be added to the library search
path (via the <samp><span class="option">-L</span></samp> option).  For this, the option
<samp><span class="option">--libs</span></samp> to <samp><span class="command">gpgme-config</span></samp> can be used.  For
convenience, this option also outputs all other options that are
required to link the program with <acronym>GPGME</acronym> (in particular, the
&lsquo;<samp><span class="samp">-lgpgme</span></samp>&rsquo; option).  The example shows how to link <samp><span class="file">foo.o</span></samp>
with the <acronym>GPGME</acronym> library to a program <samp><span class="command">foo</span></samp>.

<pre class="example">     gcc -o foo foo.o `gpgme-config --libs`
</pre>
   <p>Of course you can also combine both examples to a single command by
specifying both options to <samp><span class="command">gpgme-config</span></samp>:

<pre class="example">     gcc -o foo foo.c `gpgme-config --cflags --libs`
</pre>
   <p>If you want to link to one of the thread-safe versions of
<acronym>GPGME</acronym>, you must specify the <samp><span class="option">--thread</span></samp> option before
any other option to select the thread package you want to link with. 
Supported thread packages are <samp><span class="option">--thread=pth</span></samp> and
<samp><span class="option">--thread=pthread</span></samp>.

   </body></html>

