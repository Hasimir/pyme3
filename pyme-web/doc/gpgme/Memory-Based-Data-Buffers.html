<html lang="en">
<head>
<title>Memory Based Data Buffers - The `GnuPG Made Easy' Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="The `GnuPG Made Easy' Reference Manual">
<meta name="generator" content="makeinfo 4.11">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Creating-Data-Buffers.html#Creating-Data-Buffers" title="Creating Data Buffers">
<link rel="next" href="File-Based-Data-Buffers.html#File-Based-Data-Buffers" title="File Based Data Buffers">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<p>
<a name="Memory-Based-Data-Buffers"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="File-Based-Data-Buffers.html#File-Based-Data-Buffers">File Based Data Buffers</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Creating-Data-Buffers.html#Creating-Data-Buffers">Creating Data Buffers</a>
<hr>
</div>

<h4 class="subsection">6.1.1 Memory Based Data Buffers</h4>

<p>Memory based data objects store all data in allocated memory.  This is
convenient, but only practical for an amount of data that is a
fraction of the available physical memory.  The data has to be copied
from its source and to its destination, which can often be avoided by
using one of the other data object

<div class="defun">
&mdash; Function: gpgme_error_t <b>gpgme_data_new</b> (<var>gpgme_data_t&nbsp;*dh<!-- /@w --></var>)<var><a name="index-gpgme_005fdata_005fnew-87"></a></var><br>
<blockquote><p>The function <code>gpgme_data_new</code> creates a new <code>gpgme_data_t</code>
object and returns a handle for it in <var>dh</var>.  The data object is
memory based and initially empty.

        <p>The function returns the error code <code>GPG_ERR_NO_ERROR</code> if the
data object was successfully created, <code>GPG_ERR_INV_VALUE</code> if
<var>dh</var> is not a valid pointer, and <code>GPG_ERR_ENOMEM</code> if not
enough memory is available. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: gpgme_error_t <b>gpgme_data_new_from_mem</b> (<var>gpgme_data_t&nbsp;*dh<!-- /@w -->, const&nbsp;char&nbsp;*buffer<!-- /@w -->, size_t&nbsp;size<!-- /@w -->, int&nbsp;copy<!-- /@w --></var>)<var><a name="index-gpgme_005fdata_005fnew_005ffrom_005fmem-88"></a></var><br>
<blockquote><p>The function <code>gpgme_data_new_from_mem</code> creates a new
<code>gpgme_data_t</code> object and fills it with <var>size</var> bytes starting
from <var>buffer</var>.

        <p>If <var>copy</var> is not zero, a private copy of the data is made.  If
<var>copy</var> is zero, the data is taken from the specified buffer as
needed, and the user has to ensure that the buffer remains valid for
the whole life span of the data object.

        <p>The function returns the error code <code>GPG_ERR_NO_ERROR</code> if the
data object was successfully created, <code>GPG_ERR_INV_VALUE</code> if
<var>dh</var> or <var>buffer</var> is not a valid pointer, and
<code>GPG_ERR_ENOMEM</code> if not enough memory is available. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: gpgme_error_t <b>gpgme_data_new_from_file</b> (<var>gpgme_data_t&nbsp;*dh<!-- /@w -->, const&nbsp;char&nbsp;*filename<!-- /@w -->, int&nbsp;copy<!-- /@w --></var>)<var><a name="index-gpgme_005fdata_005fnew_005ffrom_005ffile-89"></a></var><br>
<blockquote><p>The function <code>gpgme_data_new_from_file</code> creates a new
<code>gpgme_data_t</code> object and fills it with the content of the file
<var>filename</var>.

        <p>If <var>copy</var> is not zero, the whole file is read in at initialization
time and the file is not used anymore after that.  This is the only
mode supported currently.  Later, a value of zero for <var>copy</var> might
cause all reads to be delayed until the data is needed, but this is
not yet implemented.

        <p>The function returns the error code <code>GPG_ERR_NO_ERROR</code> if the
data object was successfully created, <code>GPG_ERR_INV_VALUE</code> if
<var>dh</var> or <var>filename</var> is not a valid pointer,
<code>GPG_ERR_NOT_IMPLEMENTED</code> if <var>code</var> is zero, and
<code>GPG_ERR_ENOMEM</code> if not enough memory is available. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: gpgme_error_t <b>gpgme_data_new_from_filepart</b> (<var>gpgme_data_t&nbsp;*dh<!-- /@w -->, const&nbsp;char&nbsp;*filename<!-- /@w -->, FILE&nbsp;*fp<!-- /@w -->, off_t&nbsp;offset<!-- /@w -->, size_t&nbsp;length<!-- /@w --></var>)<var><a name="index-gpgme_005fdata_005fnew_005ffrom_005ffilepart-90"></a></var><br>
<blockquote><p>The function <code>gpgme_data_new_from_filepart</code> creates a new
<code>gpgme_data_t</code> object and fills it with a part of the file specified
by <var>filename</var> or <var>fp</var>.

        <p>Exactly one of <var>filename</var> and <var>fp</var> must be non-zero, the other
must be zero.  The argument that is not zero specifies the file from
which <var>length</var> bytes are read into the data object, starting from
<var>offset</var>.

        <p>The function returns the error code <code>GPG_ERR_NO_ERROR</code> if the
data object was successfully created, <code>GPG_ERR_INV_VALUE</code> if
<var>dh</var> and exactly one of <var>filename</var> and <var>fp</var> is not a valid
pointer, and <code>GPG_ERR_ENOMEM</code> if not enough memory is available. 
</p></blockquote></div>

   </body></html>

